"use strict";(self.webpackChunkOnlineShop=self.webpackChunkOnlineShop||[]).push([[946],{8946:(q,u,i)=>{i.r(u),i.d(u,{UserModule:()=>_});var l=i(6814),s=i(9310),t=i(4946);let g=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-user-home"]],decls:2,vars:0,template:function(r,o){1&r&&(t.TgZ(0,"p"),t._uU(1,"user-home works!"),t.qZA())}})}return e})();var p=i(553),h=i(9862);let f=(()=>{class e{constructor(n){this.http=n,this.BaseUrl=p.N.apiUrl}getUserData(){return this.http.get(this.BaseUrl+"Authentication/GetUserFromToken")}static#t=this.\u0275fac=function(r){return new(r||e)(t.LFG(h.eN))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),m=(()=>{class e{constructor(n){this.userService=n}ngOnInit(){this.getUserDetails()}getUserDetails(){this.userService.getUserData().subscribe(n=>{this.User=n})}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(f))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-user-profile"]],decls:35,vars:11,consts:[[1,"profile-card"],[1,"header"],["src","https://via.placeholder.com/100","alt","User Avatar"],[1,"body"],["href","#",1,"btn","btn-primary"],["href","#",1,"btn","btn-secondary"],[1,"details"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"h1"),t._uU(4),t.qZA(),t.TgZ(5,"h2"),t._uU(6),t.qZA()(),t.TgZ(7,"div",3)(8,"p"),t._uU(9),t.qZA(),t.TgZ(10,"a",4),t._uU(11,"Follow"),t.qZA(),t.TgZ(12,"a",5),t._uU(13,"Message"),t.qZA()(),t.TgZ(14,"div",6)(15,"p")(16,"strong"),t._uU(17,"Name:"),t.qZA(),t._uU(18),t.qZA(),t.TgZ(19,"p")(20,"strong"),t._uU(21,"Age:"),t.qZA(),t._uU(22),t.qZA(),t.TgZ(23,"p")(24,"strong"),t._uU(25,"Address:"),t.qZA(),t._uU(26),t.qZA(),t.TgZ(27,"p")(28,"strong"),t._uU(29,"Email:"),t.qZA(),t._uU(30),t.qZA(),t.TgZ(31,"p")(32,"strong"),t._uU(33,"Phone:"),t.qZA(),t._uU(34),t.qZA()()()),2&r&&(t.xp6(4),t.AsE("",o.User.firstName," ",o.User.lastName,""),t.xp6(2),t.Oqu(o.User.job),t.xp6(3),t.Oqu(o.User.about),t.xp6(9),t.AsE(" ",o.User.firstName," ",o.User.lastName," "),t.xp6(4),t.hij(" ",o.User.age,""),t.xp6(4),t.AsE(" ",o.User.country,", ",o.User.city,""),t.xp6(4),t.hij(" ",o.User.email,""),t.xp6(4),t.hij(" ",o.User.phoneNumber,""))},styles:["body[_ngcontent-%COMP%]{background-color:#f0f2f5;font-family:Arial,sans-serif}.profile-card[_ngcontent-%COMP%]{max-width:100%;background-color:#fff;border-radius:15px;box-shadow:0 4px 8px #0000001a;overflow:hidden}.profile-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background-color:#017d9c;padding:30px;text-align:center;color:#fff}.profile-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;border:5px solid #fff;margin-bottom:15px}.profile-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.5em}.profile-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:5px 0 0;font-size:1.2em}.profile-card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{padding:30px;text-align:center}.profile-card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#777;margin-bottom:10px}.profile-card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:10px 5px}.profile-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;border-top:1px solid #e0e0e0;text-align:left}.profile-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#555}@media (max-width: 767px){.profile-card[_ngcontent-%COMP%]{margin:20px}.profile-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .profile-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2em}}"]})}return e})();var U=i(9676);function v(e,a){if(1&e&&(t.TgZ(0,"option",8),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.Q6J("value",n.id),t.xp6(1),t.Oqu(n.name)}}const C=function(e){return["/Admin/product",e]};function Z(e,a){if(1&e&&(t.ynx(0),t.TgZ(1,"div",9)(2,"div",10),t._UZ(3,"img",11),t.TgZ(4,"div",12)(5,"div",13)(6,"h5",14),t._uU(7),t.qZA(),t.TgZ(8,"p",15),t._uU(9),t.qZA(),t.TgZ(10,"p",15),t._uU(11),t.qZA(),t.TgZ(12,"p",15),t._uU(13),t.qZA()(),t.TgZ(14,"div",16)(15,"a",17),t._uU(16,"Details"),t.qZA(),t.TgZ(17,"a",18),t._uU(18,"Add To Cart"),t.qZA()()()()(),t.BQk()),2&e){const n=a.$implicit;t.xp6(7),t.Oqu(n.name),t.xp6(2),t.Oqu(n.description),t.xp6(2),t.Oqu(n.image),t.xp6(2),t.Oqu(null==n.category?null:n.category.name),t.xp6(2),t.Q6J("routerLink",t.VKq(5,C,n.id))}}let P=(()=>{class e{constructor(n){this.ProductService=n,this.Products=[],this.includes=[],this.Categories=[]}ngOnInit(){this.getProducts(),this.getCategories()}getCategories(){this.Categories=[{id:4,name:"Laptop"},{id:5,name:"Mobile"}]}getProducts(){this.includes.push("category"),this.ProductService.getProductsByCondition(0,0,this.includes).subscribe({next:n=>this.Products=n,error:n=>alert("UnAuth")})}getByCategory(n){this.includes.push("category"),this.ProductService.getProductsByCondition(0,n.target.value,this.includes).subscribe({next:o=>this.Products=o,error:o=>alert("UnAuth")})}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(U.M))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-user-product-list"]],decls:13,vars:2,consts:[[1,"row"],[1,"col-3"],["routerLink","/Admin/add-product",1,"btn","btn-primary","mb-3"],[1,"form-select",3,"change"],["value","0","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"row","col-9"],[4,"ngFor","ngForOf"],[3,"value"],[1,"col-4","mb-3","p-0","d-flex","justify-content-center","CustomHeight"],[1,"card",2,"width","80%"],["src","https://placehold.co/200","alt","...",1,"card-img-top"],[1,"card-body","d-flex","align-items-start","flex-column","justify-content-between"],[1,""],[1,"card-title"],[1,"card-text"],[1,"d-flex","justify-content-center"],[1,"btn","btn-primary","me-1",3,"routerLink"],[1,"btn","btn-primary"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t._uU(3,"Add Product"),t.qZA(),t.TgZ(4,"h3"),t._uU(5,"Choose your Filter"),t.qZA(),t._UZ(6,"hr"),t.TgZ(7,"select",3),t.NdJ("change",function(b){return o.getByCategory(b)}),t.TgZ(8,"option",4),t._uU(9,"Choose Category"),t.qZA(),t.YNc(10,v,2,2,"option",5),t.qZA()(),t.TgZ(11,"div",6),t.YNc(12,Z,19,7,"ng-container",7),t.qZA()()),2&r&&(t.xp6(10),t.Q6J("ngForOf",o.Categories),t.xp6(2),t.Q6J("ngForOf",o.Products))},dependencies:[l.sg,s.rH]})}return e})();var A=i(2322),y=i(2113),O=i(8245),x=i(2425);let c=(()=>{class e{constructor(n,r,o,d){this.router=n,this.localStorageService=r,this.tokenService=o,this.toastr=d}canActivate(n,r){const o=this.tokenService.getUser();return null!=this.localStorageService.getToken()?this.tokenService.isTokenExpired()?(this.toastr.error("Your Session Ended and u need to login again"),localStorage.clear(),this.tokenService.TokenAfterLogin$.next(!1),this.router.navigateByUrl("/Authentication/Login"),!1):o?.role===A.u.User||(this.router.navigateByUrl("welcome"),this.toastr.error("Un Auth"),!1):(this.toastr.error("u neet to login first"),this.tokenService.TokenAfterLogin$.next(!0),this.router.navigateByUrl("/Authentication/Login"),!1)}static#t=this.\u0275fac=function(r){return new(r||e)(t.LFG(s.F0),t.LFG(y.n),t.LFG(O.B),t.LFG(x._W))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const M=[{path:"",redirectTo:"userHome",pathMatch:"full"},{path:"userHome",component:g,canActivate:[c]},{path:"userProfile",component:m,canActivate:[c]},{path:"userProducts",component:P,canActivate:[c]}];let T=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[s.Bz.forChild(M),s.Bz]})}return e})(),_=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[l.ez,T]})}return e})()}}]);